(this.webpackJsonpcands=this.webpackJsonpcands||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(7),o=n.n(a),r=(n(14),n(9)),i=n(6),s=n(2),u=(n(15),n(8)),h=n.n(u),l=n(0),d="https://hn.algolia.com/api/v1/search_by_date?query=Ask%20HN:%20".concat((new Date).getFullYear(),"&tags=ask_hn,author_whoishiring&hitsPerPage=1000"),j=!1;function b(t){var e=t.setCondition,n=Object(c.useState)(!1),a=Object(s.a)(n,2),o=a[0],r=a[1],i=Object(c.useState)([]),u=Object(s.a)(i,2),h=u[0],d=u[1],j=Object(c.useState)([]),b=Object(s.a)(j,2),f=b[0],m=b[1];return Object(c.useEffect)((function(){e({remote:o,search:h,location:f})}),[o,h,f,e]),Object(l.jsxs)("div",{id:"search-bar",children:["Skills: \xa0\xa0\xa0\xa0\xa0\xa0",Object(l.jsx)("input",{type:"text",onChange:function(t){return d(t.target.value.replace(/\s+/g,"").split(","))}})," ",Object(l.jsx)("em",{children:"(comma seperated, eg: React, Django, Security)"}),Object(l.jsx)("br",{}),"Location: ",Object(l.jsx)("input",{type:"text",onChange:function(t){return m(t.target.value)}}),Object(l.jsx)("br",{}),"Remote: \xa0",Object(l.jsx)("input",{type:"checkbox",onClick:function(){return r(!o)}})]})}function f(t){var e=t.comments,n=t.condition,a=Object(c.useState)(!0),o=Object(s.a)(a,2),r=o[0],u=o[1];Object(c.useEffect)((function(){}),[e]),console.log(n);var d=e.sort((function(t,e){return new Date(e.date)-new Date(t.date)})).filter((function(t){if(n.remote&&t.remote!==n.remote)return!1;var e,c=Object(i.a)(n.search);try{for(c.s();!(e=c.n()).done;){var a=e.value;if(!t.comment.toLowerCase().includes(a.toLowerCase()))return!1}}catch(o){c.e(o)}finally{c.f()}return!(n.location&&!function(t){var e,n=Object(i.a)(t.toLowerCase().split(/<p|\n/));try{for(n.s();!(e=n.n()).done;){var c=e.value;if(c.includes("location"))return c}}catch(o){n.e(o)}finally{n.f()}return""}(t.comment).includes(n.location))})).map((function(t,e){return Object(l.jsx)("div",{dangerouslySetInnerHTML:{__html:h.a.sanitize('\n          <div class="posting" key='.concat(e,'>\n            <b>Author:</b> <a href="https://news.ycombinator.com/user?id=').concat(t.author,'">').concat(t.author,'</a><br />\n            <b>Date:</b> <a href="https://news.ycombinator.com/item?id=').concat(t.postId,'">').concat(t.date,"</a>\n            <p />").concat(t.comment,"<p />\n          </div>\n          <hr />"))}})}));return Object(l.jsxs)("div",{id:"candidates-container",children:[Object(l.jsxs)("div",{id:"show-button-line",children:[d.length," jobseekers match your search requirements\xa0\xa0\xa0",Object(l.jsx)("span",{onClick:function(){return u(!r)},children:r?"show \u25bc":"hide \u25b2"})]}),r?"":d]})}var m=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],a=e[1],o=Object(c.useState)(null),i=Object(s.a)(o,2),u=i[0],h=i[1];return Object(c.useEffect)((function(){a([]),j||fetch(d).then((function(t){return t.json()})).then((function(t){t.hits.filter((function(t){return t.title.includes("wants")&&t.created_at.includes((new Date).getFullYear())})).map((function(t){return t.objectID})).forEach((function(t){fetch("https://hn.algolia.com/api/v1/search_by_date?query=&tags=comment,story_".concat(t,"&hitsPerPage=1000")).then((function(t){return t.json()})).then((function(e){var n=[];e.hits.filter((function(e){return"".concat(e.parent_id)==="".concat(t)})).forEach((function(t){var e=t.author,c=t.comment_text,a=t.created_at,o=t.objectID;n.push(function(t,e,n,c){return{author:t,comment:e,date:n,postId:c,remote:!!e.toLowerCase().replace(/\s+/g,"").match(/remote:y/g),location:void 0,will_relocate:void 0}}(e,c,a,o))})),a((function(t){return[].concat(n,Object(r.a)(t))}))}))}))})),j=!0}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("center",{children:[Object(l.jsx)("h1",{children:"HN Candidates Search"}),Object(l.jsxs)("div",{id:"author",children:["by ",Object(l.jsx)("a",{href:"https://github.com/seisvelas/hn-candidates-search",id:"xandre",rel:"noopener noreferrer nofollow",target:"_blank",children:"Xandre"})]})]}),Object(l.jsx)(b,{setCondition:h}),Object(l.jsx)(f,{comments:n,condition:u})]})},p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),o(t),r(t)}))};o.a.render(Object(l.jsx)(m,{}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.33df7264.chunk.js.map